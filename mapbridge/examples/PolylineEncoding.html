<!DOCTYPE html "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>Polyline Encoding</title>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
        <script type="text/javascript" src="../src/mapbridge.js?key=ABQIAAAAGY8Xhrw1zw6Ia3dwUJVxKRTVDgad4Bvurg1SD7pTTN986X-SXRSKKVrETJW4qaW12HAV5dyl6wH7sw">
        </script>
        <script type="text/javascript">
            
            var map;
            
            function init() {
              MapBridge.createMap(document.getElementById('map_canvas'), function(mp) {
                map = mp;
                map.addEventListener(MapEvent.MAP_READY(), onMapReady);//'mapevent_mapready'
              });
            }
            
            function onMapReady(e) {
              map.setCenter(new LatLng(40.7121341, -73.967857), 13, MapType.NORMAL_MAP_TYPE());
              
              map.addControl(new ZoomControl());
              map.addControl(new MapTypeControl());
              
              // Add an encoded polyline.
              var encodedPoints = "iuowFf{kbMzH}N`IbJb@zBpYzO{dAvfF{LwDyN`_@`NzKqB|Ec@|L}BKmBbCoPjrBeEdy@uJ`Mn@zoAer@bjA~Xz{JczBa]pIps@de@tW}rCdxSwhPl`XgikCl{soA{dLdAaaF~cCyxCk_Aao@jp@kEvnCgoJ`]y[pVguKhCkUflAwrEzKk@yzCv^k@?mI";
              var encodedLevels = "B????????????????????????????????????B";
              var encodedData = new EncodedPolylineData(encodedPoints, 32, encodedLevels, 4);
              var opts = new PolylineOptions({
                strokeStyle: new StrokeStyle({
                  color: 0x0000ff,
                  thickness: 4,
                  alpha: 0.7
                })
              });
              var encodedPolyline = Polyline.fromEncoded(encodedData, opts);
              map.addOverlay(encodedPolyline);
              
            }
        </script>
    </head>
    <body onload="init()">
        <div>Encoded Polyline</div>
        <div id="map_canvas" style="width:100%;height:90%">
        </div>
    </body>
</html>
